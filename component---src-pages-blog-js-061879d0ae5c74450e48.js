(self.webpackChunkarts_random_thoughts=self.webpackChunkarts_random_thoughts||[]).push([[7],{5700:function(t,e,n){n(5743),t.exports=function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=n(t),a=n(e);function i(t){return s.default.createElement("button",{type:"button",className:t.classNames.selectedTag,title:t.removeButtonText,onClick:t.onDelete},s.default.createElement("span",{className:t.classNames.selectedTagName},t.tag.name))}var r={position:"absolute",width:0,height:0,visibility:"hidden",overflow:"scroll",whiteSpace:"pre"},o=["fontSize","fontFamily","fontWeight","fontStyle","letterSpacing","textTransform"],u=function(t){function e(e){t.call(this,e),this.state={inputWidth:null},this.input=s.default.createRef(),this.sizer=s.default.createRef()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){this.props.autoresize&&(this.copyInputStyles(),this.updateInputWidth())},e.prototype.componentDidUpdate=function(t){var e=t.query,n=t.placeholderText;e===this.props.query&&n===this.props.placeholderText||this.updateInputWidth()},e.prototype.copyInputStyles=function(){var t=this,e=window.getComputedStyle(this.input.current);o.forEach((function(n){t.sizer.current.style[n]=e[n]}))},e.prototype.updateInputWidth=function(){var t;this.props.autoresize&&(t=Math.ceil(this.sizer.current.scrollWidth)+2),t!==this.state.inputWidth&&this.setState({inputWidth:t})},e.prototype.render=function(){var t=this.props,e=t.id,n=t.query,a=t.ariaLabelText,i=t.placeholderText,o=t.expanded,u=t.classNames,l=t.inputAttributes,c=t.inputEventHandlers,p=t.index;return s.default.createElement("div",{className:u.searchWrapper},s.default.createElement("input",Object.assign({},l,c,{ref:this.input,value:n,placeholder:i,className:u.searchInput,role:"combobox","aria-autocomplete":"list","aria-label":a||i,"aria-owns":e,"aria-activedescendant":p>-1?e+"-"+p:null,"aria-expanded":o,style:{width:this.state.inputWidth}})),s.default.createElement("div",{ref:this.sizer,style:r},n||i))},e}(s.default.Component);function l(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}function c(t){return new RegExp(l(t),"gi")}function p(t){return new RegExp("(?:^|\\s)"+l(t),"i")}function d(t){return new RegExp("^"+l(t)+"$","i")}function f(t,e){var n=c(e);return t.replace(n,"<mark>$&</mark>")}function h(t){var e=t.item,n=t.query;return s.default.createElement("span",{dangerouslySetInnerHTML:{__html:f(e.name,n)}})}function g(t){var e=t.suggestionComponent||h,n=t.options.map((function(n,a){var i=t.id+"-"+a,r=[];return t.index===a&&r.push(t.classNames.suggestionActive),n.disabled&&r.push(t.classNames.suggestionDisabled),s.default.createElement("li",{id:i,key:i,role:"option",className:r.join(" "),"aria-disabled":Boolean(n.disabled),onMouseDown:function(t){return t.preventDefault()},onClick:function(){return t.addTag(n)}},n.prefix?s.default.createElement("span",{className:t.classNames.suggestionPrefix},n.prefix," "):null,n.disableMarkIt?n.name:s.default.createElement(e,{item:n,query:t.query}))}));return s.default.createElement("div",{className:t.classNames.suggestions},s.default.createElement("ul",{role:"listbox",id:t.id},n))}function m(t,e){var n=t.querySelectorAll("a,button,input"),s=Array.prototype.findIndex.call(n,(function(t){return t===e})),a=n[s-1]||n[s+1];a&&a.focus()}var y={ENTER:"Enter",TAB:"Tab",BACKSPACE:"Backspace",UP_ARROW:"ArrowUp",UP_ARROW_COMPAT:"Up",DOWN_ARROW:"ArrowDown",DOWN_ARROW_COMPAT:"Down"},x={root:"react-tags",rootFocused:"is-focused",selected:"react-tags__selected",selectedTag:"react-tags__selected-tag",selectedTagName:"react-tags__selected-tag-name",search:"react-tags__search",searchWrapper:"react-tags__search-wrapper",searchInput:"react-tags__search-input",suggestions:"react-tags__suggestions",suggestionActive:"is-active",suggestionDisabled:"is-disabled",suggestionPrefix:"react-tags__suggestion-prefix"};function v(t,e){return t.findIndex((function(t){return d(e).test(t.name)}))}function T(){if(this.state.query.length>=this.props.minQueryLength){var t=v(this.state.options,this.state.query),e=-1===this.state.index?t:this.state.index,n=e>-1?this.state.options[e]:null;n?this.addTag(n):this.props.allowNew&&this.addTag({name:this.state.query})}}function b(t){t.preventDefault();var e=this.state.options.length-1;this.setState({index:this.state.index<=0?e:this.state.index-1})}function E(t){t.preventDefault();var e=this.state.options.length-1;this.setState({index:this.state.index>=e?0:this.state.index+1})}function w(){this.state.query.length||this.deleteTag(this.props.tags.length-1)}function N(t,e){return p(e).test(t.name)}function _(t,e){var n;return n=(n=t.suggestionsTransform?t.suggestionsTransform(e.query,t.suggestions):t.suggestions.filter((function(n){return t.suggestionsFilter(n,e.query)}))).slice(0,t.maxSuggestionsLength),t.allowNew&&t.newTagText&&-1===v(n,e.query)?n.push({id:0,name:e.query,prefix:t.newTagText,disableMarkIt:!0}):t.noSuggestionsText&&0===n.length&&n.push({id:0,name:t.noSuggestionsText,disabled:!0,disableMarkIt:!0}),n}var S=function(t){function e(e){t.call(this,e),this.state={query:"",focused:!1,index:-1},this.inputEventHandlers={onChange:function(){},onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),onInput:this.onInput.bind(this),onKeyDown:this.onKeyDown.bind(this)},this.container=s.default.createRef(),this.input=s.default.createRef()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onInput=function(t){var e=t.target.value;this.props.onInput&&this.props.onInput(e),e.length===this.state.query.length+1&&this.props.delimiters.indexOf(e.slice(-1))>-1?T.call(this):e!==this.state.query&&this.setState({query:e})},e.prototype.onKeyDown=function(t){this.props.delimiters.indexOf(t.key)>-1&&((this.state.query||this.state.index>-1)&&t.preventDefault(),T.call(this)),t.key===y.BACKSPACE&&this.props.allowBackspace&&w.call(this,t),t.key!==y.UP_ARROW&&t.key!==y.UP_ARROW_COMPAT||b.call(this,t),t.key!==y.DOWN_ARROW&&t.key!==y.DOWN_ARROW_COMPAT||E.call(this,t)},e.prototype.onClick=function(t){document.activeElement!==t.target&&this.focusInput()},e.prototype.onBlur=function(){this.setState({focused:!1,index:-1}),this.props.onBlur&&this.props.onBlur(),this.props.addOnBlur&&T.call(this)},e.prototype.onFocus=function(){this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus()},e.prototype.onDeleteTag=function(t,e){this.container.current&&m(this.container.current,e.currentTarget),this.deleteTag(t)},e.prototype.addTag=function(t){t.disabled||("function"!=typeof this.props.onValidate||this.props.onValidate(t))&&(this.props.onAddition({id:t.id,name:t.name}),this.clearInput())},e.prototype.deleteTag=function(t){this.props.onDelete(t)},e.prototype.clearInput=function(){this.setState({query:"",index:-1})},e.prototype.clearSelectedIndex=function(){this.setState({index:-1})},e.prototype.focusInput=function(){this.input.current&&this.input.current.input.current&&this.input.current.input.current.focus()},e.prototype.render=function(){var t=this,e=this.props.tagComponent||i,n=this.state.focused&&this.state.query.length>=this.props.minQueryLength,a=Object.assign({},x,this.props.classNames),r=[a.root];return this.state.focused&&r.push(a.rootFocused),s.default.createElement("div",{ref:this.container,className:r.join(" "),onClick:this.onClick.bind(this)},s.default.createElement("div",{className:a.selected,"aria-relevant":"additions removals","aria-live":"polite"},this.props.tags.map((function(n,i){return s.default.createElement(e,{key:i,tag:n,removeButtonText:t.props.removeButtonText,classNames:a,onDelete:t.onDeleteTag.bind(t,i)})}))),s.default.createElement("div",{className:a.search},s.default.createElement(u,Object.assign({},this.state,{id:this.props.id,ref:this.input,classNames:a,inputAttributes:this.props.inputAttributes,inputEventHandlers:this.inputEventHandlers,autoresize:this.props.autoresize,expanded:n,placeholderText:this.props.placeholderText,ariaLabelText:this.props.ariaLabelText})),n&&this.state.options.length?s.default.createElement(g,Object.assign({},this.state,{id:this.props.id,classNames:a,expanded:n,addTag:this.addTag.bind(this),suggestionComponent:this.props.suggestionComponent})):null))},e.getDerivedStateFromProps=function(t,e){return e.prevQuery!==e.query||e.prevSuggestions!==t.suggestions?{prevQuery:e.query,prevSuggestions:t.suggestions,options:_(t,e)}:null},e}(s.default.Component);return S.defaultProps={id:"ReactTags",tags:[],placeholderText:"Add new tag",removeButtonText:"Click to remove tag",noSuggestionsText:null,newTagText:null,suggestions:[],suggestionsFilter:N,suggestionsTransform:null,autoresize:!0,classNames:x,delimiters:[y.TAB,y.ENTER],minQueryLength:2,maxSuggestionsLength:6,allowNew:!1,allowBackspace:!0,addOnBlur:!1,tagComponent:null,suggestionComponent:null,inputAttributes:{}},S.propTypes={id:a.default.string,tags:a.default.arrayOf(a.default.object),placeholderText:a.default.string,ariaLabelText:a.default.string,removeButtonText:a.default.string,noSuggestionsText:a.default.string,newTagText:a.default.string,suggestions:a.default.arrayOf(a.default.object),suggestionsFilter:a.default.func,suggestionsTransform:a.default.func,autoresize:a.default.bool,delimiters:a.default.arrayOf(a.default.string),onDelete:a.default.func.isRequired,onAddition:a.default.func.isRequired,onInput:a.default.func,onFocus:a.default.func,onBlur:a.default.func,onValidate:a.default.func,minQueryLength:a.default.number,maxSuggestionsLength:a.default.number,classNames:a.default.object,allowNew:a.default.bool,allowBackspace:a.default.bool,addOnBlur:a.default.bool,tagComponent:a.default.oneOfType([a.default.func,a.default.element]),suggestionComponent:a.default.oneOfType([a.default.func,a.default.element]),inputAttributes:a.default.object},S}(n(7294),n(5697))},6400:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var s=n(7294),a=n(5444),i=n(5269);function r(t){t.id;var e=t.slug,n=t.frontmatter,r=t.excerpt;return s.createElement("div",{className:"index-post"},s.createElement(a.Link,{to:e},s.createElement("span",{className:"index-post-title"},n.draft&&s.createElement("span",{className:"tag-draft"},"[Draft] "),n.title)),s.createElement("div",{className:"post-details-in-index"},s.createElement(i.Z,{frontmatter:n,showTags:!0})),s.createElement("p",{className:"index-excerpt"},r))}},223:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var s=n(5785),a=n(7294),i=n(2085),r=n(6400),o=n(2335),u=n(5700),l=n.n(u),c=n(4178);function p(t){var e=t.location,n=t.data.qPostsProduction,u=a.useState([]),p=u[0],d=u[1],f=a.useState(n.nodes),h=f[0],g=f[1],m=a.useState([]),y=m[0],x=m[1];function v(t){return t.map((function(t,e){return{id:t,name:t}}))}a.useEffect((function(){var t=(0,s.Z)(new Set(n.nodes.reduce((function(t,e){return t.concat(e.frontmatter.tags)}),[])));d(v(t))}),[n.nodes]),a.useEffect((function(){var t=((0,c.D)("tags")||"").split(",");1===t.length&&0===t[0].length&&(t=[]),x(t)}),[e.search]),a.useEffect((function(){y.length>0?(g(n.nodes.filter((function(t){return y.every((function(e){return t.frontmatter.tags.includes(e)}))}))),window.history.pushState("","","?tags="+y)):(g(n.nodes),window.history.pushState("","",""))}),[y,n.nodes]);var T=a.useRef(null);return a.createElement(i.Z,null,a.createElement(o.Z,{title:"Blog"}),a.createElement("div",null),a.createElement("div",{className:"content"},a.createElement("div",{className:"post-title"},"Blog posts"),a.createElement("div",null,a.createElement(l(),{ref:T,tags:v(y),suggestions:p,onDelete:function(t){var e=y.slice(0);e.splice(t,1),x(e)}.bind(T),onAddition:function(t){x([].concat(y,t.name))}.bind(T),minQueryLength:1,placeholderText:"Search by tags"})),h.map((function(t){return a.createElement(r.Z,{key:t.id,slug:t.fields.slug,frontmatter:t.frontmatter,excerpt:t.excerpt})}))))}}}]);
//# sourceMappingURL=component---src-pages-blog-js-061879d0ae5c74450e48.js.map